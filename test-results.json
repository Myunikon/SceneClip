{"numTotalTestSuites":8,"numPassedTestSuites":4,"numFailedTestSuites":4,"numPendingTestSuites":0,"numTotalTests":52,"numPassedTests":49,"numFailedTests":3,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1768398559788,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["buildYtDlpArgs"],"fullName":"buildYtDlpArgs should include basic required arguments","status":"passed","title":"should include basic required arguments","duration":1.9601999999999862,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs"],"fullName":"buildYtDlpArgs should use custom concurrent fragments setting","status":"passed","title":"should use custom concurrent fragments setting","duration":0.3204999999998108,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs"],"fullName":"buildYtDlpArgs should set correct audio format for audio-only downloads","status":"passed","title":"should set correct audio format for audio-only downloads","duration":0.3872999999998683,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs"],"fullName":"buildYtDlpArgs should handle video codec preferences correctly","status":"passed","title":"should handle video codec preferences correctly","duration":0.18609999999989668,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs"],"fullName":"buildYtDlpArgs should add clipping arguments when range is specified","status":"failed","title":"should add clipping arguments when range is specified","duration":5.685999999999922,"failureMessages":["AssertionError: expected [ Array(25) ] to include '--downloader'\n    at Proxy.<anonymous> (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/expect/dist/index.js:1196:17)\n    at Proxy.<anonymous> (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/expect/dist/index.js:972:17)\n    at Proxy.methodWrapper (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/chai/index.js:1686:25)\n    at D:\\YtDLP UI\\ClipSceneYT\\SceneClip\\src\\lib\\ytdlp.test.ts:101:22\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1262:5)"],"meta":{}},{"ancestorTitles":["buildYtDlpArgs"],"fullName":"buildYtDlpArgs should sanitize time inputs to prevent injection","status":"passed","title":"should sanitize time inputs to prevent injection","duration":0.3122000000000753,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs"],"fullName":"buildYtDlpArgs should reject proxy strings starting with dash","status":"passed","title":"should reject proxy strings starting with dash","duration":0.8305000000000291,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs"],"fullName":"buildYtDlpArgs should add subtitle arguments when enabled","status":"passed","title":"should add subtitle arguments when enabled","duration":0.29470000000014807,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs"],"fullName":"buildYtDlpArgs should add SponsorBlock arguments when enabled","status":"passed","title":"should add SponsorBlock arguments when enabled","duration":0.19899999999984175,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs"],"fullName":"buildYtDlpArgs should place URL last with -- separator","status":"passed","title":"should place URL last with -- separator","duration":0.116800000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs GPU Acceleration"],"fullName":"buildYtDlpArgs GPU Acceleration should inject nvidia encoder args when gpuType is nvidia","status":"passed","title":"should inject nvidia encoder args when gpuType is nvidia","duration":0.15980000000013206,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs GPU Acceleration"],"fullName":"buildYtDlpArgs GPU Acceleration should inject amd encoder args when gpuType is amd","status":"passed","title":"should inject amd encoder args when gpuType is amd","duration":0.10789999999997235,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs GPU Acceleration"],"fullName":"buildYtDlpArgs GPU Acceleration should inject intel encoder args when gpuType is intel","status":"passed","title":"should inject intel encoder args when gpuType is intel","duration":0.10739999999987049,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs GPU Acceleration"],"fullName":"buildYtDlpArgs GPU Acceleration should NOT inject encoder args when gpuType is cpu","status":"passed","title":"should NOT inject encoder args when gpuType is cpu","duration":0.0827999999999065,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeFilename"],"fullName":"sanitizeFilename should remove illegal filesystem characters","status":"passed","title":"should remove illegal filesystem characters","duration":0.24649999999996908,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeFilename"],"fullName":"sanitizeFilename should replace template variables correctly","status":"passed","title":"should replace template variables correctly","duration":0.07390000000009422,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeFilename"],"fullName":"sanitizeFilename should handle empty title with fallback","status":"failed","title":"should handle empty title with fallback","duration":1.393100000000004,"failureMessages":["AssertionError: expected 'Untitled.mp4' to be '.mp4' // Object.is equality\n    at D:\\YtDLP UI\\ClipSceneYT\\SceneClip\\src\\lib\\ytdlp.test.ts:213:24\n    at file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:146:14\n    at file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:533:11\n    at runWithTimeout (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:39:7)\n    at runTest (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1056:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1271:3)"],"meta":{}},{"ancestorTitles":["sanitizeFilename"],"fullName":"sanitizeFilename should remove path traversal attempts","status":"passed","title":"should remove path traversal attempts","duration":0.11190000000010514,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeFilename"],"fullName":"sanitizeFilename should sanitize colons in filenames to underscores","status":"passed","title":"should sanitize colons in filenames to underscores","duration":0.0706000000000131,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeFilename"],"fullName":"sanitizeFilename should force extension if template is malformed (missing dot)","status":"passed","title":"should force extension if template is malformed (missing dot)","duration":0.058600000000069485,"failureMessages":[],"meta":{}},{"ancestorTitles":["sanitizeFilename"],"fullName":"sanitizeFilename should force extension even if simple string","status":"passed","title":"should force extension even if simple string","duration":0.0969000000000051,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseYtDlpJson"],"fullName":"parseYtDlpJson should parse valid JSON output","status":"passed","title":"should parse valid JSON output","duration":0.231899999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseYtDlpJson"],"fullName":"parseYtDlpJson should extract thumbnail from thumbnails array as fallback","status":"passed","title":"should extract thumbnail from thumbnails array as fallback","duration":0.07229999999981374,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseYtDlpJson"],"fullName":"parseYtDlpJson should throw error on invalid JSON","status":"passed","title":"should throw error on invalid JSON","duration":0.17309999999997672,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseMetadata"],"fullName":"parseMetadata should extract stream URLs from requested_formats","status":"passed","title":"should extract stream URLs from requested_formats","duration":0.2761000000000422,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseMetadata"],"fullName":"parseMetadata should return fallback meta when no valid JSON found","status":"passed","title":"should return fallback meta when no valid JSON found","duration":0.11289999999985412,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs UI Permutations (New Download Dialog)"],"fullName":"buildYtDlpArgs UI Permutations (New Download Dialog) should generate correct GIF args with defaults","status":"passed","title":"should generate correct GIF args with defaults","duration":0.19039999999995416,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs UI Permutations (New Download Dialog)"],"fullName":"buildYtDlpArgs UI Permutations (New Download Dialog) should generate correct GIF args with High Quality","status":"passed","title":"should generate correct GIF args with High Quality","duration":0.11789999999996326,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs UI Permutations (New Download Dialog)"],"fullName":"buildYtDlpArgs UI Permutations (New Download Dialog) should handle Audio Mode with default bitrate","status":"passed","title":"should handle Audio Mode with default bitrate","duration":0.12319999999999709,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs UI Permutations (New Download Dialog)"],"fullName":"buildYtDlpArgs UI Permutations (New Download Dialog) should handle Audio Mode with specific bitrate","status":"passed","title":"should handle Audio Mode with specific bitrate","duration":0.09649999999987813,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs UI Permutations (New Download Dialog)"],"fullName":"buildYtDlpArgs UI Permutations (New Download Dialog) should inject Loudness Normalization for audio","status":"passed","title":"should inject Loudness Normalization for audio","duration":0.11640000000011241,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs UI Permutations (New Download Dialog)"],"fullName":"buildYtDlpArgs UI Permutations (New Download Dialog) should request AV1 codec when selected","status":"passed","title":"should request AV1 codec when selected","duration":0.06790000000000873,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs UI Permutations (New Download Dialog)"],"fullName":"buildYtDlpArgs UI Permutations (New Download Dialog) should request VP9 codec when selected","status":"passed","title":"should request VP9 codec when selected","duration":0.05870000000004438,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs UI Permutations (New Download Dialog)"],"fullName":"buildYtDlpArgs UI Permutations (New Download Dialog) should add sponsorblock args","status":"passed","title":"should add sponsorblock args","duration":0.10360000000014224,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs UI Permutations (New Download Dialog)"],"fullName":"buildYtDlpArgs UI Permutations (New Download Dialog) should split chapters with sanitized output template","status":"passed","title":"should split chapters with sanitized output template","duration":0.12239999999997053,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should inject proxy if configured","status":"passed","title":"should inject proxy if configured","duration":0.10380000000009204,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should inject cookies from browser","status":"passed","title":"should inject cookies from browser","duration":0.10370000000011714,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should inject cookies from file","status":"passed","title":"should inject cookies from file","duration":0.10469999999986612,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should apply speed limit","status":"passed","title":"should apply speed limit","duration":0.09900000000016007,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should handle User-Agent customization","status":"passed","title":"should handle User-Agent customization","duration":0.5909999999998945,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should DISABLE metadata embedding when clipping to prevent corruption","status":"passed","title":"should DISABLE metadata embedding when clipping to prevent corruption","duration":0.20640000000003056,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should use Intel QSV flags","status":"failed","title":"should use Intel QSV flags","duration":1.3863000000001193,"failureMessages":["AssertionError: expected 'ffmpeg:-c:v h264_qsv' to contain '-global_quality'\n    at D:\\YtDLP UI\\ClipSceneYT\\SceneClip\\src\\lib\\ytdlp.test.ts:451:24\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:533:5\n    at runTest (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1056:11)\n    at runSuite (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runSuite (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1205:15)\n    at runFiles (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1262:5)\n    at startTests (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/@vitest/runner/dist/index.js:1271:3)\n    at file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11\n    at withEnv (file:///D:/YtDLP%20UI/ClipSceneYT/SceneClip/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:90:5)"],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should use AMD AMF flags with clipping optimization","status":"passed","title":"should use AMD AMF flags with clipping optimization","duration":0.17249999999989996,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should use Apple VideoToolbox flags","status":"passed","title":"should use Apple VideoToolbox flags","duration":0.08470000000011169,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should add live-from-start flag","status":"passed","title":"should add live-from-start flag","duration":0.09750000000008185,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should generate valid args for Split Chapters + Audio Normalization","status":"passed","title":"should generate valid args for Split Chapters + Audio Normalization","duration":0.22229999999990468,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should fall back to CPU if User wants GPU but System detects CPU","status":"passed","title":"should fall back to CPU if User wants GPU but System detects CPU","duration":0.27549999999996544,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should NOT use Video HW Accel for Audio-only downloads","status":"passed","title":"should NOT use Video HW Accel for Audio-only downloads","duration":0.08490000000006148,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should ignore audioNormalization for GIF format (no audio)","status":"passed","title":"should ignore audioNormalization for GIF format (no audio)","duration":0.07470000000012078,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should skip HW downloader args when forceTranscode + clipping are both active","status":"passed","title":"should skip HW downloader args when forceTranscode + clipping are both active","duration":0.12319999999999709,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should correctly handle AV1 codec with MP4 container","status":"passed","title":"should correctly handle AV1 codec with MP4 container","duration":0.1269999999999527,"failureMessages":[],"meta":{}},{"ancestorTitles":["buildYtDlpArgs Advanced Scenarios"],"fullName":"buildYtDlpArgs Advanced Scenarios should correctly handle HEVC codec with MKV container","status":"passed","title":"should correctly handle HEVC codec with MKV container","duration":0.11200000000008004,"failureMessages":[],"meta":{}}],"startTime":1768398561055,"endTime":1768398561075.127,"status":"failed","message":"","name":"D:/YtDLP UI/ClipSceneYT/SceneClip/src/lib/ytdlp.test.ts"}]}
